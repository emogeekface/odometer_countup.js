var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},rAF=window.requestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},Odometer=function(){function t(t){this.defaults={duration:.8,delay:.25},this.cell_digits=null,this.options=__assign(__assign({},this.defaults),t),this.cell_digits=null}return t.prototype.render=function(t,e){for(var n,i=!1,o=(this.cell_digits||(i=!0,document.querySelector("style[odometer]")||((n=document.createElement("style")).setAttribute("odometer","odometer"),n.innerHTML=".odometer-numbers{display:inline-flex;line-height:100%;overflow-y:hidden}.odometer-numbers>span{display:flex;flex-direction:column;justify-content:start;align-items:center;height:1em;will-change:transform;transform:translateY(0)}",document.head.appendChild(n)),t.innerHTML='<div class="odometer-numbers"></div>',this.cell_digits=[]),'<span style="color:transparent">0</span>'),r="transform ".concat(this.options.duration,"s ease-out"),s=this.cell_digits.length;s<e.length;s++){var a=document.createElement("span");a.style.transition=r,a.innerHTML=i?"":o,t.firstChild&&t.firstChild.appendChild(a),this.cell_digits.push({container:a,current:void 0,position:i?1:0,new:!0})}function l(t,n){t.position--,t.container.appendChild(n),t.lastTimeAdd=+new Date,t.new?(t.new=!1,rAF(function(){t.container.style.transform="translateY(".concat(t.position,"em)")})):t.container.style.transform="translateY(".concat(t.position,"em)")}function d(){c=s<e.length?e.charAt(s):null;var n=h.cell_digits[s];n.current!=c&&(n.current=c,(u=document.createElement("span")).innerHTML=null===c?o:c,(n.container.children.length<4?l:function(t,n){t.nextToAdd&&(l(t,t.nextToAdd),clearTimeout(t.lastTimer),t.nextToAdd=null);var e=+new Date,i=1e3*this.options.delay-(e-t.lastTimeAdd);this.options.delay<=0||e-t.lastTimeAdd>=1.05*i?(l(t,n),t.nextToAdd=null):(t.nextToAdd=n,t.lastTimer=setTimeout(function(){l(t,t.nextToAdd),t.nextToAdd=null},1e3*this.options.duration))})(n,u),clearTimeout(n.timerClean),n.timerClean=setTimeout(function(){n.timerClean=null,n.container.children.length<3||(n.container.style.transition="none",rAF(function(){for(n.position=-1;1<n.container.children.length;)n.container.removeChild(n.container.firstChild);var t=document.createElement("span");t.innerHTML=o,n.container.insertBefore(t,n.container.firstChild),n.container.style.transform="translateY(".concat(n.position,"em)"),rAF(function(){n.container.style.transition=r})}))},1e3*((h.options.duration||.8)+(h.options.duration||.25))+2500))}for(var c,u,m=Math.max(e.length,this.cell_digits.length),h=this,s=0;s<m;s++)d()},t}();export{Odometer};